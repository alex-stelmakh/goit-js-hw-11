{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function inputPictures({ hits }) {\n  const gallery = document.querySelector('.gallery-container');\n  const hitsList = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<ul class=\"gallery-card\">\n      <li class=\"gallery\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\"> \n   <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"270\" height=\"160\"/>\n   </a>\n    <div class=\"discrabe\">\n  <ul class=\"discrabe-list\">\n  <li class=\"discrabe-item\"><b>Likes</b> ${likes}</li>\n  <li class=\"discrabe-item\"><b>Views</b> ${views}</li>\n  <li class=\"discrabe-item\"><b>Comments</b> ${comments}</li>\n  <li class=\"discrabe-item\"><b>Downloads</b> ${downloads}</li>\n  </ul>\n</div>\n</li>\n    </ul>`\n    )\n    .join('');\n\n  gallery.innerHTML = hitsList;\n\n  if (hits.length === 0) {\n    hideLoading();\n    return errorParams();\n  }\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n  }).refresh();\n  hideLoading();\n}\n\nexport function showLoading() {\n  const loading = document.querySelector('.loading');\n  loading.style.display = 'flex';\n}\n\nexport function hideLoading() {\n  const loading = document.querySelector('.loading');\n  loading.style.display = 'none';\n}\n\nexport function errorParams() {\n  iziToast.error({\n    title: 'Error',\n    position: 'topRight',\n    title: '',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}","export function fetchParams(item) {\n  const API_KEY = '44848974-7ecdee37a41921c1b33ea19fc';\n\n  return fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${item}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\n\n","import {\n  inputPictures,\n  errorParams,\n  showLoading,\n  hideLoading,\n} from './js/render-functions';\nimport { fetchParams } from './js/pixabay-api';\n\nconst formSearch = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery-container');\nconst loading = document.querySelector('.loading');\n\nformSearch.addEventListener('submit', getPictureByValue);\n\nfunction getPictureByValue(evt) {\n  evt.preventDefault();\n  const form = evt.currentTarget;\n\n  const inputValue = form.elements.insert.value.toLowerCase().trim();\n\n  if (inputValue === '') {\n    hideLoading();\n    return errorParams();\n  }\n\n  showLoading();\n  gallery.innerHTML = '';\n\n  fetchParams(inputValue)\n    .then(inputPictures)\n    .catch(errorParams)\n    .finally(() => form.reset());\n}"],"names":["inputPictures","hits","gallery","hitsList","webformatURL","largeImageURL","tags","likes","views","comments","downloads","hideLoading","errorParams","SimpleLightbox","showLoading","loading","iziToast","fetchParams","item","res","formSearch","getPictureByValue","evt","form","inputValue"],"mappings":"6vBAKO,SAASA,EAAc,CAAE,KAAAC,GAAQ,CACtC,MAAMC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAWF,EACd,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BL,CAAa;AAAA,eACpCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,2CAIEC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA;AAAA;AAAA,UAKnD,EACA,KAAK,EAAE,EAIV,GAFAR,EAAQ,UAAYC,EAEhBF,EAAK,SAAW,EAClB,OAAAU,IACOC,EAAW,EAEH,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,MACd,gBAAiB,QAClB,CAAA,EAAE,QAAU,EACbF,GACF,CAEO,SAASG,GAAc,CAC5B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,MAAM,QAAU,MAC1B,CAEO,SAASJ,GAAc,CAC5B,MAAMI,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,MAAM,QAAU,MAC1B,CAEO,SAASH,GAAc,CAC5BI,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,MAAO,GACP,QACE,0EACN,CAAG,CACH,CCnEO,SAASC,EAAYC,EAAM,CAGhC,OAAO,MACL,qEAA6CA,CAAI,0DACrD,EAAI,KAAKC,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCHA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDlB,EAAU,SAAS,cAAc,oBAAoB,EAC3C,SAAS,cAAc,UAAU,EAEjDkB,EAAW,iBAAiB,SAAUC,CAAiB,EAEvD,SAASA,EAAkBC,EAAK,CAC9BA,EAAI,eAAc,EAClB,MAAMC,EAAOD,EAAI,cAEXE,EAAaD,EAAK,SAAS,OAAO,MAAM,YAAW,EAAG,OAE5D,GAAIC,IAAe,GACjB,OAAAb,IACOC,EAAW,EAGpBE,IACAZ,EAAQ,UAAY,GAEpBe,EAAYO,CAAU,EACnB,KAAKxB,CAAa,EAClB,MAAMY,CAAW,EACjB,QAAQ,IAAMW,EAAK,MAAK,CAAE,CAC/B"}